<% layout('layouts/boilerplate') %>
<div class="backup-search">
  <%- include("../partials/backup_header") %>
  <div class="playlist-info-container">
    <% if (playlistName) { %>
    <div class="playlist-info-title">
      <span><%= playlistName %></span>
    </div>
    <% } %>
    <div class="playlist-info-item">
      <span><%= playlistData.data.pageInfo.totalResults %> videos</span>
    </div>
    <div class="playlist-info-item">
      <span
        >Owner: <%= playlistData.playlistItems[0].snippet.channelTitle%></span
      >
    </div>
  </div>
  <div class="backup-controls-container">
    <button id="txtSaveBtn" class="btn btn-download">
      <p>Save as .txt</p>
      <!-- <a href="">Save as .txt</a> -->
    </button>
    <button class="btn btn-download"><p>Save as .json</p></button>
  </div>
  <div class="playlist-container">
    <% for( let item of playlistData.playlistItems) { %>
    <div class="playlist-item">
      <% if (item.snippet.thumbnails.default) { %>

      <img
        class="yt-thumbnail"
        src="<%= item.snippet.thumbnails.default.url %>"
      />
      <% } else { %>
      <img />
      <% } %>

      <div class="playlist-item-desc">
        <p class="yt-title"><%= item.snippet.title %></p>
        <p class="yt-uploader"><%= item.snippet.videoOwnerChannelTitle %></p>
      </div>
      <!-- <a
        href="https://www.youtube.com/watch?v=<%= item.snippet.resourceId.videoId %>"
        ><%= item.snippet.title %></a
      > -->
    </div>
    <% } %>
  </div>
</div>
<script src="../../scripts/backup.js"></script>
