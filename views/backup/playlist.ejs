<% layout('layouts/boilerplate') %>
<div class="backup-search">
  <%- include("../partials/backup_header") %>
  <div class="playlist-info-container">
    <% if (playlistName) { %>
    <div class="playlist-info-item">
      <span>Playlist Name: </span>
      <span><%= playlistName%></span>
    </div>
    <% } %>
    <div class="playlist-info-item">
      <span>Total Videos: </span>
      <span><%= playlistData.data.pageInfo.totalResults %></span>
    </div>
    <div class="playlist-info-item">
      <span>Created by: </span>
      <span><%= playlistData.playlistItems[0].snippet.channelTitle%></span>
    </div>
  </div>
  <div class="backup-controls-container">
    <button class="btn-dark"><a href="">Save as .txt</a></button>
    <button class="btn-dark"><a href="">Save as .json</a></button>
  </div>
  <div class="playlist-container">
    <% for( let item of playlistData.playlistItems) { %>
    <div class="playlist-item">
      <% if (item.snippet.thumbnails.default) { %>

      <img src="<%= item.snippet.thumbnails.default.url %>" />
      <% } else { %>
      <img />
      <% } %>

      <a
        href="https://www.youtube.com/watch?v=<%= item.snippet.resourceId.videoId %>"
        ><%= item.snippet.title %></a
      >
    </div>
    <% } %>
  </div>
</div>
<script src="../../scripts/backup.js"></script>
